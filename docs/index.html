<!DOCTYPE html>
<html>
    <head>
      <meta charset="utf-8">
      <title>Nostr playground</title>
      <script type="module" src="noble-secp256k1.js"></script>
      <script type="module" src="main.js"></script>
      <style>
        main {
          max-width: 800px;
          margin: 0 auto;
        }

        section {
          margin: 1em auto;
        }

        h2 {
          font-size: 1.2em;
        }

        textarea {
          width: 500px;
          height: 150px;
        }

        ul {
          list-style: none;
          padding: 0;
        }

        .tips {
          font-size: 0.8em;
          color: gray;
        }

        .hidden {
          display: none;
        }

        .warning {
          color: darkorange;
        }
      </style>
    </head>
    <body>
      <main>
        <h1>Nostr playground</h1>

        <section>
          <form id="connect">
            <label for="relay">Relay:</label>
            <input id="relay" type="text" size="50" placeholder="wss://" required>
            <input type="submit" value="Connect">
          </form>
        </section>

        <section>
          <h2><a href="https://github.com/nostr-protocol/nips/blob/master/11.md">NIP-11</a> Relay Information Document</h2>
          <textarea id="info" placeholder="NIP-11 Relay Information Document"></textarea>
        </section>

        <section>
          <h2>Send</h2>
          <form id="send">
            <div>
              <select id="type">
                <option>-</option>
                <option>EVENT</option>
                <option>REQ</option>
                <option>CLOSE</option>
              </select>
            </div>
            <div id="private-key-input" class="hidden">
              <label for="private-key">Private key:</label>
              <input id="private-key" type="password" placeholder="hex">
              or
              <input id="nip-07" type="button" value="NIP-07 (secure)">
              <div id="nip-07-warning" class="warning hidden">Please install <a href="https://github.com/nostr-protocol/nips/blob/master/07.md#implementation" target="_blank">Browser Extensions</a> and reload.</div>
            </div>
            <div>
              <textarea id="send-json" placeholder="JSON" required></textarea>
            </div>
            <div>
              <input id="send-button" type="submit" value="Send" disabled>
            </div>
          </form>
        </section>

        <section>
          <h2>Receive</h2>
          <p class="tips">You can also see events at Chrome DevTools > Network > WS > Messages.</p>
          <ul id="events"></ul>
        </section>
      </main>
    </body>
</html>
